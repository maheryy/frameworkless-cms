$container-width: 90%;
$gutter-width: 25px;
$col-nb: 12;
$sm-width: 576px;
$md-width: 768px;
$lg-width: 992px;

@mixin set-cols($col, $offset, $order) {
  @for $i from 1 through $col-nb {
    & > .#{$col}-#{$i} {
      // margin: .5em 0;
      flex-basis: ((100 / $col-nb) * $i) * 1%;
      width: ((100 / $col-nb) * $i) * 1%;
      padding: 0.5em $gutter-width/2;
    }

    & > .#{$offset}-#{$i} {
      margin-left: ((100 / $col-nb) * $i) * 1%;
    }

    & > .#{$order}-#{$i} {
      order: $i;
    }
  }
}

.container {
  margin: auto auto;
  display: flex;
  flex-direction: column;

  & > .row {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    // margin: 1em $gutter-width/-2;

    & > .col {
      flex: 1;
      padding: 0 $gutter-width/2;
    }

    & > .clear {
      flex-basis: 100%;
      width: 100%;
    }

    &.no-gutters > .col,
    &.no-gutters > [class*="col-"] {
      padding-right: 0;
      padding-left: 0;
    }

    &.sp-around {
      justify-content: space-around;
    }

    &.sp-between {
      justify-content: space-between;
    }

    &.sp-evenly {
      justify-content: space-evenly;
    }

    &.center {
      justify-content: center;
    }

    &.right {
      justify-content: flex-end;
    }
  }
}

.container {
  max-width: $container-width;

  & > .row {
    padding: 0.3em 0;
    @include set-cols("col", "offset", "order");
  }
}

@media screen and (max-width: $md-width) {
  $container-max-width: 720px;

  .container {
    max-width: $container-max-width;

    & > .row {
      padding: 0.3em 0;
      @include set-cols("col-md", "offset-md", "order-md");
    }
  }
}

@media screen and (max-width: $sm-width) {
  $container-max-width: 540px;

  .container {
    max-width: $container-max-width;

    & > .row {
      padding: 0.3em 0;
      @include set-cols("col-sm", "offset-sm", "order-sm");
    }
  }
}
